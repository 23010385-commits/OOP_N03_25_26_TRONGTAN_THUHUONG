package com.guitar.management.repository;

import static org.junit.jupiter.api.Assertions.*;

import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;

import com.guitar.management.model.KhoaHoc;

class KhoaHocRepositoryTest {

	private KhoaHocRepository repo;

	@BeforeEach
	void setUp() {
		repo = new KhoaHocRepository();
	}

	@Test
	void addAndGetById() {
		KhoaHoc kh = new KhoaHoc(1, "Guitar Basic", "desc", null);
		repo.addKhoaHoc(kh);
		KhoaHoc found = repo.getKhoaHocById(1);
		assertNotNull(found);
		assertEquals("Guitar Basic", found.getTenKhoaHoc());
	}

	@Test
	void updateKhoaHoc() {
		KhoaHoc kh = new KhoaHoc(1, "Old", "d", null);
		repo.addKhoaHoc(kh);
		KhoaHoc updated = new KhoaHoc(1, "New Name", "d2", null);
		repo.updateKhoaHoc(updated);
		KhoaHoc found = repo.getKhoaHocById(1);
		assertEquals("New Name", found.getTenKhoaHoc());
	}

	@Test
	void deleteKhoaHoc() {
		KhoaHoc kh = new KhoaHoc(1, "ToDelete", "d", null);
		repo.addKhoaHoc(kh);
		repo.deleteKhoaHoc(1);
		assertNull(repo.getKhoaHocById(1));
	}
}

