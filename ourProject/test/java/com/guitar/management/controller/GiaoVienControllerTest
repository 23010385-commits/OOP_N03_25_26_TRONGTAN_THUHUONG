package com.guitar.management.controller;

import static org.junit.jupiter.api.Assertions.*;

import org.junit.jupiter.api.Test;
import org.springframework.ui.ConcurrentModel;
import org.springframework.ui.Model;

import com.guitar.management.model.GiaoVien;

class GiaoVienControllerTest {

	@Test
	void listGiaoVien_returnsListViewAndModel() {
		GiaoVienController controller = new GiaoVienController();
		Model model = new ConcurrentModel();
		String view = controller.listGiaoVien(model);
		assertEquals("giaovien/list", view);
	assertNotNull(model.getAttribute("giaoVienList"));
	}

	@Test
	void addGiaoVien_returnsAddView() {
		GiaoVienController controller = new GiaoVienController();
		Model model = new ConcurrentModel();
		String view = controller.addGiaoVien(model);
		assertEquals("giaovien/add", view);
		assertNotNull(model.getAttribute("giaoVien"));
	}

	@Test
	void saveGiaoVien_redirectsToList() {
		GiaoVienController controller = new GiaoVienController();
		GiaoVien gv = new GiaoVien(0, "T", 25, "Guitar");
		String view = controller.saveGiaoVien(gv);
		assertEquals("redirect:/giaovien", view);
	}
}

