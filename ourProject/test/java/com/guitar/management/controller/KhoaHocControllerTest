package com.guitar.management.controller;

import static org.junit.jupiter.api.Assertions.*;

import org.junit.jupiter.api.Test;
import org.springframework.ui.ConcurrentModel;
import org.springframework.ui.Model;

import com.guitar.management.model.KhoaHoc;

class KhoaHocControllerTest {

	@Test
	void listKhoaHoc_returnsListViewAndModelHasList() {
		KhoaHocController controller = new KhoaHocController();
		Model model = new ConcurrentModel();
		String view = controller.listKhoaHoc(model);
		assertEquals("khoahoc/list", view);
		assertNotNull(model.getAttribute("khoaHocList"));
	}

	@Test
	void addKhoaHoc_returnsAddViewWithModelAttribute() {
		KhoaHocController controller = new KhoaHocController();
		Model model = new ConcurrentModel();
		String view = controller.addKhoaHoc(model);
		assertEquals("khoahoc/add", view);
		assertNotNull(model.getAttribute("khoaHoc"));
	}

	@Test
	void saveKhoaHoc_redirectsToList() {
		KhoaHocController controller = new KhoaHocController();
		KhoaHoc kh = new KhoaHoc(0, "T", "d", null);
		String view = controller.saveKhoaHoc(kh);
		assertEquals("redirect:/khoahoc", view);
	}
}

