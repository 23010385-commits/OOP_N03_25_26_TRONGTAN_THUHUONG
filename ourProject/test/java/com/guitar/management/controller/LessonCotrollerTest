package com.guitar.management.controller;

import static org.junit.jupiter.api.Assertions.*;

import org.junit.jupiter.api.Test;
import org.springframework.ui.ConcurrentModel;
import org.springframework.ui.Model;

import com.guitar.management.model.Lesson;

class LessonCotrollerTest {

	@Test
	void listLesson_returnsListViewAndModel() {
		LessonController controller = new LessonController();
		Model model = new ConcurrentModel();
		String view = controller.listLesson(model);
		assertEquals("lesson/list", view);
		assertNotNull(model.getAttribute("lessonList"));
	}

	@Test
	void addLesson_returnsAddView() {
		LessonController controller = new LessonController();
		Model model = new ConcurrentModel();
		String view = controller.addLesson(model);
		assertEquals("lesson/add", view);
		assertNotNull(model.getAttribute("lesson"));
	}

	@Test
	void saveLesson_redirectsToList() {
		LessonController controller = new LessonController();
		Lesson l = new Lesson(0, "t", "d", 10);
		String view = controller.saveLesson(l);
		assertEquals("redirect:/lesson", view);
	}
}

