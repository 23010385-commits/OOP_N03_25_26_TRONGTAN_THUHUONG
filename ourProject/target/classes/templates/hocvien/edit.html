<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Sửa Học Viên</title>
	<script src="https://cdn.tailwindcss.com"></script>
	<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
	<style>body{font-family: 'Roboto', sans-serif}</style>
</head>
<body class="min-h-screen flex flex-col bg-gray-50">

	<div th:replace="fragments/navbar :: navbar"></div>

	<main class="max-w-3xl mx-auto p-6 flex-1">
		<div class="mb-6 flex items-center justify-between">
			<h1 class="text-2xl font-bold">Sửa học viên</h1>
			<a th:href="@{/hocvien}" class="text-sm text-gray-600">Quay lại danh sách</a>
		</div>

		<div class="bg-white p-6 rounded-lg shadow">
			<form th:action="@{/hocvien/update}" th:object="${hocVien}" method="post" onsubmit="return validateForm(this)">
				<input type="hidden" th:field="*{id}" />
				<div class="grid grid-cols-1 gap-4">
					<div>
						<label class="block text-sm font-medium text-gray-700">Tên</label>
						<input type="text" th:field="*{ten}" required class="mt-1 block w-full border border-gray-300 rounded px-3 py-2" />
					</div>
					<div>
						<label class="block text-sm font-medium text-gray-700">Email</label>
						<input type="email" th:field="*{email}" class="mt-1 block w-full border border-gray-300 rounded px-3 py-2" />
					</div>
					<div>
						<label class="block text-sm font-medium text-gray-700">Số điện thoại</label>
						<input type="text" th:field="*{soDienThoai}" pattern="[0-9+\- ]*" class="mt-1 block w-full border border-gray-300 rounded px-3 py-2" />
					</div>
				</div>

				<div class="mt-6 flex items-center gap-3">
					<button type="submit" class="px-4 py-2 bg-green-600 text-white rounded">Lưu</button>
					<a th:href="@{/hocvien}" class="px-4 py-2 bg-gray-200 rounded">Hủy</a>
				</div>
			</form>
		</div>
	</main>

	<div th:replace="fragments/footer :: footer"></div>

	<script>
		function validateForm(form){
			const name = form.querySelector('[name="ten"]') || form.querySelector('[th\:field="*{ten}"]');
			if(name && name.value.trim().length < 2){ alert('Tên phải ít nhất 2 ký tự'); name.focus(); return false; }
			return true;
		}
	</script>
</body>
</html>

